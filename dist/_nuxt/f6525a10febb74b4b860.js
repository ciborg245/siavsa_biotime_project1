(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{247:function(e,t,r){var content=r(327);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(8).default)("55ecb5ef",content,!0,{sourceMap:!1})},326:function(e,t,r){"use strict";var n=r(247);r.n(n).a},327:function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".red{color:red}.black{color:#000}.custom-loader{-webkit-animation:loader 1s infinite;animation:loader 1s infinite;display:flex}@-webkit-keyframes loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},366:function(e,t,r){"use strict";r.r(t);r(268),r(34);var n=r(143),o=(r(26),r(27),r(25),r(84),r(21)),l=r(250),c=r.n(l),d="192.168.1.30",v={data:function(){return{search:"",peopleSelected:[],people:[],date:"2019-01-02",date2:"2019-01-21",dateFormatted:this.formatDate("2019-01-02"),dateFormatted2:this.formatDate("2019-01-21"),menu:!1,menu2:!1,data:[],loading:!1,users:[],downloadBtnDisplay:!1,uuidExcel:null,headers:[{text:"No. de Usuario",align:"center",value:"No. de Usuario",sortable:!1},{text:"Nombre",align:"center",value:"Nombre",sortable:!1},{text:"Apellido",align:"center",value:"Apellido",sortable:!1},{text:"Nombre de Dispositivo",align:"center",value:"Nombre de Dispositivo",sortable:!0},{text:"Departamento",align:"center",value:"Departamento",sortable:!0},{text:"Fecha",align:"center",value:"Fecha",sortable:!1},{text:"Entrada",align:"center",value:"Entrada",sortable:!1},{text:"Salida",align:"center",value:"Salida",sortable:!1},{text:"Hora de Entrada",align:"center",value:"Hora de Entrada",sortable:!1},{text:"Hora de Salida",align:"center",value:"Hora de Salida",sortable:!1},{text:"Retardo de Entrada",align:"center",value:"Retardo de Entrada",sortable:!1},{text:"Salida Temprana",align:"center",value:"Salida Temprana",sortable:!1},{text:"Tiempo de Descanso",align:"center",value:"Tiempo de Descanso",sortable:!1},{text:"Salida a Descanso",align:"center",value:"Salida a Descanso",sortable:!1},{text:"Entrada de Descanso",align:"center",value:"Entrada de Descanso",sortable:!1},{text:"Tiempo Real de Descanso",align:"center",value:"Tiempo Real de Descanso",sortable:!1},{text:"Retardo de Descanso",align:"center",value:"Retardo de Descanso",sortable:!1},{text:"Retardo Total",align:"center",value:"Retardo Total",sortable:!1},{text:"Ausencia",align:"center",value:"Ausencia",sortable:!1},{text:"Marcaje Pendiente de Salida a Descanso",align:"center",value:"Marcaje Pendiente de Salida a Descanso",sortable:!1},{text:"Marcaje Pendiente de Entrada de Descanso",align:"center",value:"Marcaje Pendiente de Entrada de Descanso",sortable:!1},{text:"Marcaje Pendiente de Entrada",align:"center",value:"Marcaje Pendiente de Entrada",sortable:!1},{text:"Marcaje Pendiente de Salida",align:"center",value:"Marcaje Pendiente de Salida",sortable:!1},{text:"T.E. Normal",align:"center",value:"T.E. Normal",sortable:!1},{text:"Permiso",align:"center",value:"Permiso",sortable:!1}],rowsPerPage:[{text:"5",value:5},{text:"10",value:10},{text:"25",value:25},{text:"100",value:100},{text:"Todos",value:-1}],styleRed:{color:"red"}}},methods:{getDataByDateByUser:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t,r,n,o,l,v,m,x,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,this.downloadBtnDisplay=!1,t=[],r=!0,n=!1,o=void 0,e.prev=6,l=this.peopleSelected[Symbol.iterator]();!(r=(v=l.next()).done);r=!0)m=v.value,t.push(m.id);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),n=!0,o=e.t0;case 14:e.prev=14,e.prev=15,r||null==l.return||l.return();case 17:if(e.prev=17,!n){e.next=20;break}throw o;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return console.log(t),this.loading=!0,x={startDate:this.date,endDate:this.date2,users:t},e.next=27,c.a.get("http://".concat(d,":8200/api/byDateByUsers"),{params:x});case 27:"OK"==(f=e.sent).data.message?(this.data=f.data.data,this.data.length>0?(this.uuidExcel=f.data.uuid,this.downloadBtnDisplay=!0):this.uuidExcel=null):(this.data=[],this.uuidExcel=null),this.loading=!1,e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),console.error(e.t1);case 35:case"end":return e.stop()}},e,this,[[0,32],[6,10,14,22],[15,,17,21]])}));return function(){return e.apply(this,arguments)}}(),downloadExcel:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c()({method:"get",url:"http://".concat(d,":8200/api/downloadExcelFromId"),responseType:"arraybuffer",params:{uuid:this.uuidExcel}}).then(function(e){t.forceFileDownload(e)}).catch(function(){return console.log("error occured")});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),forceFileDownload:function(e){var t=window.URL.createObjectURL(new Blob([e.data])),link=document.createElement("a");link.href=t,link.setAttribute("download","".concat(this.uuidExcel,".xlsx")),document.body.appendChild(link),link.click()},getUsers:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("http://".concat(d,":8200/api/getUsers"));case 3:t=e.sent,this.people=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),removeUser:function(e){for(var i=0;i<this.peopleSelected.length;i++)if(this.peopleSelected[i].id==e.id){this.peopleSelected.splice(i,1);break}},formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(n.a)(t,3),o=r[0],l=r[1],c=r[2];return"".concat(c,"/").concat(l,"/").concat(o)},parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(n.a)(t,3),o=r[0],l=r[1],c=r[2];return"".concat(c,"-").concat(l.padStart(2,"0"),"-").concat(o.padStart(2,"0"))}},created:function(){this.getUsers()},watch:{date:function(e){this.dateFormatted=this.formatDate(this.date)},date2:function(e){this.dateFormatted2=this.formatDate(this.date2)}}},m=(r(326),r(46)),x=r(118),f=r.n(x),_=r(368),h=r(240),y=r(248),w=r(103),k=r(278),D=r(256),S=r(274),C=r(231),E=r(364),T=r(363),F=r(263),j=r(105),P=r(234),R=r(236),V=r(276),M=r(362),B=r(367),component=Object(m.a)(v,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{main:""}},[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[r("v-card",[r("v-container",{attrs:{fluid:"","grid-list-md":"","pa-4":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-text-field",e._g({attrs:{label:"Fecha de inicio","prepend-icon":"event",readonly:""},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}},n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),r("v-date-picker",{attrs:{"no-title":"",locale:"es-GT"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.date)}}},[e._v("OK")])],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[r("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.date2,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.date2=t},"update:return-value":function(t){e.date2=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-text-field",e._g({attrs:{label:"Fecha final","prepend-icon":"event",readonly:""},model:{value:e.dateFormatted2,callback:function(t){e.dateFormatted2=t},expression:"dateFormatted2"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e._v(" "),r("v-date-picker",{attrs:{"no-title":"",locale:"es-GT"},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.menu2=!1}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.menu2.save(e.date2)}}},[e._v("OK")])],1)],1)],1),e._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-autocomplete",{attrs:{items:e.people,chips:"",color:"blue-grey lighten-4",label:"Colaboradores","item-text":"name","item-value":"name",multiple:"","return-object":""},scopedSlots:e._u([{key:"selection",fn:function(data){return[r("v-chip",{staticClass:"chip--select-multi",attrs:{selected:data.selected,close:""},on:{input:function(t){return e.removeUser(data.item)}}},[e._v("\n                      "+e._s(data.item.name)+"\n                    ")])]}},{key:"item",fn:function(data){return[[r("v-list-tile-content",[r("v-list-tile-title",{domProps:{innerHTML:e._s(data.item.name)}})],1)]]}}]),model:{value:e.peopleSelected,callback:function(t){e.peopleSelected=t},expression:"peopleSelected"}})],1)],1),e._v(" "),r("v-layout",{attrs:{row:"",wrap:"","pr-3":""}},[r("v-spacer"),e._v(" "),r("v-flex",{attrs:{xs3:"",sm2:"",md2:"",lg1:""}},[r("v-btn",{attrs:{loading:e.loading,disabled:e.loading},on:{click:e.getDataByDateByUser},scopedSlots:e._u([{key:"loader",fn:function(){return[r("span",{staticClass:"custom-loader"},[r("v-icon",{attrs:{light:""}},[e._v("cached")])],1)]},proxy:!0}])},[e._v("\n                Buscar\n                  ")])],1)],1)],1)],1)],1),e._v(" "),r("v-flex",{staticStyle:{overflow:"auto"},attrs:{xs12:"",sm12:"",md12:""}},[r("v-card",[r("v-container",{attrs:{"fill-height":"",fluid:"","pa-2":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticStyle:{overflow:"auto"},attrs:{xs12:"",sm12:"",md12:""}},[r("v-card-title",[r("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),r("v-spacer"),e._v(" "),e.downloadBtnDisplay?r("v-btn",{attrs:{color:"primary"},on:{click:e.downloadExcel}},[e._v("\n                    Descargar\n                    "),r("v-icon",{attrs:{right:"",dark:""}},[e._v("cloud_download")])],1):e._e()],1),e._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.data,search:e.search,"rows-per-page-text":"Filas por página","rows-per-page-items":e.rowsPerPage},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["No. de Usuario"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Nombre))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Apellido))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Nombre de Dispositivo"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Departamento))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Fecha))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Entrada))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Salida))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Hora de Entrada"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Hora de Salida"]))]),e._v(" "),r("td",{staticClass:"text-xs-center",style:{color:t.item.isCheckinLate?"red":""}},[e._v(e._s(t.item["Retardo de Entrada"]))]),e._v(" "),r("td",{staticClass:"text-xs-center",style:{color:t.item.isCheckoutEarly?"blue":""}},[e._v(e._s(t.item["Salida Temprana"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Tiempo de Descanso"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Salida a Descanso"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Entrada de Descanso"]))]),e._v(" "),r("td",{staticClass:"text-xs-center",style:{color:t.item.isBreakLate?"red":""}},[e._v(e._s(t.item["Tiempo Real de Descanso"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Retardo de Descanso"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Retardo Total"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Ausencia))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Marcaje Pendiente de Salida a Descanso"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Marcaje Pendiente de Entrada de Descanso"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Marcaje Pendiente de Entrada"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["Marcaje Pendiente de Salida"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item["T.E. Normal"]))]),e._v(" "),r("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.Permiso))])]}},{key:"no-results",fn:function(){return[r("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                      Su búsqueda de "'+e._s(e.search)+'" no generó resultados.\n                    ')])]},proxy:!0},{key:"no-data",fn:function(){return[r("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n                      No se encontró la información deseada.\n                    ")])]},proxy:!0},{key:"pageText",fn:function(t){return[e._v("\n                    Filas "+e._s(t.pageStart)+" - "+e._s(t.pageStop)+" de "+e._s(t.itemsLength)+"\n                  ")]}}])})],1)],1)],1)],1)],1)],1)],1)],1)},[],!1,null,null,null);t.default=component.exports;f()(component,{VAlert:_.a,VApp:h.a,VAutocomplete:y.a,VBtn:w.a,VCard:k.a,VCardTitle:D.a,VChip:S.a,VContainer:C.a,VDataTable:E.a,VDatePicker:T.a,VFlex:F.a,VIcon:j.a,VLayout:P.a,VListTileContent:R.a,VListTileTitle:R.b,VMenu:V.a,VSpacer:M.a,VTextField:B.a})}}]);